import{_ as e,c as a,a as n,o as t}from"./app-DNXRdI82.js";const o={};function c(r,s){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="处理-vscode-错误" tabindex="-1"><a class="header-anchor" href="#处理-vscode-错误"><span>处理 VSCode 错误</span></a></h1><h2 id="无法监视文件变化" tabindex="-1"><a class="header-anchor" href="#无法监视文件变化"><span>无法监视文件变化</span></a></h2><p>其实这个问题存在已久，但是一直没有去处理。</p><p>当 VSCode 弹出该提示时会给一个对应的<a href="https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc" target="_blank" rel="noopener noreferrer">链接</a>，执行它提供的命令：</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /proc/sys/fs/inotify/max_user_watches <span class="token comment"># 19200</span></span>
<span class="line"></span></code></pre></div><p>限制比较小，接着查看<a href="https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers" target="_blank" rel="noopener noreferrer">解决方案</a>。虽然提示说 <code>Arch Linux</code> 应当使用 <code>echo fs.inotify.max_user_watches=524288 | sudo tee /etc/sysctl.d/40-max-user-watches.conf &amp;&amp; sudo sysctl --system</code>，但我的 manjaro 重启后依旧存在问题。</p><p>最后的解决方案：</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ll /etc/sysctl.d/</span>
<span class="line"><span class="token comment"># 40-max-user-watches.conf</span></span>
<span class="line"><span class="token comment"># 50-max_user_watches.conf # 需注意文件名区别</span></span>
<span class="line"><span class="token function">cat</span> /etc/sysctl.d/50-max_user_watches.conf</span>
<span class="line">fs.inotify.max_user_watches <span class="token operator">=</span> <span class="token number">19200</span> <span class="token comment"># 利用 vim 修改后重启成功</span></span>
<span class="line"></span></code></pre></div><h2 id="空文件夹折叠" tabindex="-1"><a class="header-anchor" href="#空文件夹折叠"><span>空文件夹折叠</span></a></h2><p>在一次更新之后 VSCode 添加了新的特性 <code>Compact Folders</code>，这种行为与 Chrome 浏览器擅自遮挡 <code>www</code> 一样恶心。</p><p>打开 <code>Settings</code>，输入 <code>Compact Folders</code> 取消选中即可。</p><h2 id="删除文件-文件夹时卡顿" tabindex="-1"><a class="header-anchor" href="#删除文件-文件夹时卡顿"><span>删除文件/文件夹时卡顿</span></a></h2><p>在 Arch 的 KDE 环境下会存在该问题，这是由于 <a href="https://github.com/microsoft/vscode/issues/90034#issuecomment-582115953" target="_blank" rel="noopener noreferrer">ELECTRON 引起的</a>。可通过在 <code>~/.config/plasma-workspace/env/electron-trash-gio.sh</code> 增加如下内容解决：</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ELECTRON_TRASH</span><span class="token operator">=</span>gio</span>
<span class="line"></span></code></pre></div>`,14)]))}const i=e(o,[["render",c],["__file","errors.html.vue"]]),p=JSON.parse('{"path":"/tools/vscode/errors.html","title":"处理 VSCode 错误","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"无法监视文件变化","slug":"无法监视文件变化","link":"#无法监视文件变化","children":[]},{"level":2,"title":"空文件夹折叠","slug":"空文件夹折叠","link":"#空文件夹折叠","children":[]},{"level":2,"title":"删除文件/文件夹时卡顿","slug":"删除文件-文件夹时卡顿","link":"#删除文件-文件夹时卡顿","children":[]}],"git":{"updatedTime":1637399264000,"contributors":[{"name":"shanyuhai123","username":"shanyuhai123","email":"864299347@qq.com","commits":5,"url":"https://github.com/shanyuhai123"}]},"filePathRelative":"tools/vscode/errors.md"}');export{i as comp,p as data};
