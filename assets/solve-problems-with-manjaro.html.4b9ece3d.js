import{r as a,c as n,a as e,b as s,F as l,d as r,e as o,o as c}from"./app.a0540cdc.js";import{_ as t}from"./plugin-vue_export-helper.5a098b48.js";const i={},d=e("h1",{id:"manjaro-的异常处理",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#manjaro-的异常处理","aria-hidden":"true"},"#"),r(" Manjaro 的异常处理")],-1),u=e("h2",{id:"解决-manjaro-录屏闪烁",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#解决-manjaro-录屏闪烁","aria-hidden":"true"},"#"),r(" 解决 Manjaro 录屏闪烁")],-1),h=e("h3",{id:"_1-问题情况",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题情况","aria-hidden":"true"},"#"),r(" 1. 问题情况")],-1),p=e("p",null,"在使用 Manjaro 录屏后，发现录制出来的屏幕经常闪烁，部分画面遗失。",-1),m=e("h3",{id:"_2-解决方案",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-解决方案","aria-hidden":"true"},"#"),r(" 2. 解决方案")],-1),b=e("div",{class:"custom-container tip"},[e("p",{class:"custom-container-title"},"步骤"),e("p",null,[e("code",null,"系统设置"),r(" > "),e("code",null,"硬件"),r(" > "),e("code",null,"显示和监控"),r(" > "),e("code",null,"混成器"),r(" > "),e("code",null,"避免撕裂(垂直同步)"),r(" > "),e("code",null,"从不")])],-1),g=e("p",null,[e("img",{src:"/os/manjaro/screen-flashing-when-recording.png",alt:"录屏闪烁"})],-1),x=e("h2",{id:"禁用笔记本键盘",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#禁用笔记本键盘","aria-hidden":"true"},"#"),r(" 禁用笔记本键盘")],-1),f=e("h3",{id:"_1-问题情况-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题情况-1","aria-hidden":"true"},"#"),r(" 1. 问题情况")],-1),k=e("p",null,"之前键盘进过水导致会启用按键失灵，所以需要禁用自带的键盘。",-1),_=e("h3",{id:"_2-解决方案-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-解决方案-1","aria-hidden":"true"},"#"),r(" 2. 解决方案")],-1),v=e("div",{class:"custom-container tip"},[e("p",{class:"custom-container-title"},"初级方案"),e("div",{class:"language-bash ext-sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token comment"},"# manjaro 下 xinput 被 xorg-xinput 替代"),r("\n"),e("span",{class:"token function"},"sudo"),r(" pacman -S xorg-xinput\n"),e("span",{class:"token comment"},"# 查看设备列表"),r("\nxinput list\n"),e("span",{class:"token comment"},"# 查看笔记本键盘信息 "),r("\nxinput list-props "),e("span",{class:"token string"},"'AT Translated Set 2 keyboard'"),r("\n"),e("span",{class:"token comment"},"# Device Enabled (147): 1 =》 `1` 表示维禁用"),r("\nxinput set-prop "),e("span",{class:"token number"},"17"),r(),e("span",{class:"token string"},"'Device Enabled'"),r(),e("span",{class:"token number"},"0"),r("\n"),e("span",{class:"token comment"},"# 再次查看设备信息即可"),r("\n")])])])],-1),j=e("div",{class:"custom-container danger"},[e("p",{class:"custom-container-title"},"终极方案"),e("p",null,[e("code",null,"关电源"),r(" > "),e("code",null,"打开后盖"),r(" > "),e("code",null,"拆除笔记本键盘排线")])],-1),y=e("h2",{id:"修复文件夹名为英文",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#修复文件夹名为英文","aria-hidden":"true"},"#"),r(" 修复文件夹名为英文")],-1),q=e("h3",{id:"_1-问题情况-2",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题情况-2","aria-hidden":"true"},"#"),r(" 1. 问题情况")],-1),w=e("p",null,"将系统设置为中文后，用户目录下的文件夹也随之变为中文，在日常使用时就会造成频繁切换输入这就让人很烦了。而直接重命名会导致出现一些问题。",-1),S=e("h3",{id:"_2-解决方案-2",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-解决方案-2","aria-hidden":"true"},"#"),r(" 2. 解决方案")],-1),M=e("div",{class:"custom-container tip"},[e("p",{class:"custom-container-title"},"初级方案"),e("div",{class:"language-bash ext-sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token comment"},"# 1. 找到 `～/.config/user-dirs.dis` 文件"),r("\n"),e("span",{class:"token function"},"vim"),r(" ~/.config/user-dirs.dirs \n"),e("span",{class:"token comment"},"# 2. 接着将中文命名修改为新改的英文，并使其生效"),r("\n"),e("span",{class:"token builtin class-name"},"source"),r(" ~/.config/user-dirs.dirs\n"),e("span",{class:"token comment"},"# 3. 然而这并没有结束，你还需要修改右侧图标的位置"),r("\n右键 "),e("span",{class:"token operator"},">"),r(" 编辑 "),e("span",{class:"token operator"},">"),r(" 位置\n")])])])],-1),T=e("h2",{id:"双显卡解决方案",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#双显卡解决方案","aria-hidden":"true"},"#"),r(" 双显卡解决方案")],-1),D=r("参考 "),E={href:"https://blog.kongjune.com/manjaro-prime/",target:"_blank",rel:"noopener noreferrer"},L=r("在 Manjaro 配置 Optimus manager 实现 Nvidia-Prime 双显卡解决方案"),O=r(" 即可。"),R=e("p",null,[r("由于使用的版本为 "),e("code",null,"manjaro Lysia"),r("，所以配置项都无需处理，仅仅是：")],-1),A=e("div",{class:"language-bash ext-sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),r(" pacman -S optimus-manager optimus-manager-qt\n\n"),e("span",{class:"token comment"},"# 或需从 yay 安装"),r("\nyay -S optimus-manager-qt\n")])])],-1),B=e("p",null,"接着启用即可。",-1),C=e("blockquote",null,[e("p",null,"2020-12-17 更新")],-1),F=e("p",null,[r("在后续的使用中 "),e("code",null,"bbsswitch"),r(" 似乎被卸载了（不确定是我个人卸载，还是系统升级被移除）导致切换失败。")],-1),N=e("p",null,[r("在上面的页面中还有其他选择，如 "),e("code",null,"acpi_call"),r("，所以：")],-1),P=e("div",{class:"language-bash ext-sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token comment"},"# 安装"),r("\n"),e("span",{class:"token function"},"sudo"),r(" pacman -S acpi_call-dkms\n\n"),e("span",{class:"token comment"},"# 启用"),r("\n"),e("span",{class:"token function"},"sudo"),r(" modprobe acpi_call\n")])])],-1),Q=r("接着可以使用命令行工具 "),z={href:"https://github.com/dglt1/optimus-switch-sddm",target:"_blank",rel:"noopener noreferrer"},G=r("optimus-switch-sddm"),H=r("。"),I=e("p",null,[r("在界面 QT 工具中选用 "),e("code",null,"acpi_call"),r(" 导致桌面无法启动，未排查出原因，后续修改配置文件 "),e("code",null,"/etc/optimus-manager/optimus-manager.conf"),r("，改回 "),e("code",null,"switching=bbswitch"),r(" 才使得桌面启动。")],-1),J=e("h2",{id:"屏幕时不时卡死",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#屏幕时不时卡死","aria-hidden":"true"},"#"),r(" 屏幕时不时卡死")],-1),K=e("h3",{id:"_1-问题情况-3",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题情况-3","aria-hidden":"true"},"#"),r(" 1. 问题情况")],-1),U=e("p",null,"在看视频时出现的概率比较大，即屏幕频繁绘制时出问题了。",-1),V=e("h3",{id:"_2-解决方案-3",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-解决方案-3","aria-hidden":"true"},"#"),r(" 2. 解决方案")],-1),W=e("p",null,[r("初步猜测是显卡驱动有问题。然后在软件包搜了下 "),e("code",null,"nouveau"),r("，果然存在 "),e("code",null,"xf86-video-nouveau"),r(" 开源驱动，移除后就恢复正常了。")],-1),X=e("p",null,"应该是哪次更新系统顺手给安装上去了。",-1),Y=e("h2",{id:"风扇起飞",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#风扇起飞","aria-hidden":"true"},"#"),r(" 风扇起飞")],-1),Z=e("h3",{id:"_1-问题情况-4",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题情况-4","aria-hidden":"true"},"#"),r(" 1. 问题情况")],-1),$=e("p",null,"系统风扇起飞，一般是由于某个程序占用资源过多导致。",-1),aa=e("h3",{id:"_2-解决方案-4",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-解决方案-4","aria-hidden":"true"},"#"),r(" 2. 解决方案")],-1),na=e("blockquote",null,[e("p",null,"解决后可能会导致其他问题。")],-1),ea=e("p",null,"引起该问题有很多情况，之前也总是忘记抓罪犯：",-1),sa={href:"https://wiki.archlinux.org/index.php/Baloo",target:"_blank",rel:"noopener noreferrer"},la=r("baloo"),ra=r(" 建立文件索引"),oa=o('<div class="language-bash ext-sh"><pre class="language-bash"><code>balooctl status  <span class="token comment"># 查看状态</span>\nbalooctl <span class="token function">suspend</span>   <span class="token comment"># 停止</span>\nbalooctl disable  <span class="token comment"># 禁用</span>\n</code></pre></div><p>除了命令行还可以在 <code>系统</code> =》 <code>查找</code> 中找到该配置项。</p>',2),ca=e("h2",{id:"旧系统内核无法删除",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#旧系统内核无法删除","aria-hidden":"true"},"#"),r(" 旧系统内核无法删除")],-1),ta=e("h3",{id:"_1-问题情况-5",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-问题情况-5","aria-hidden":"true"},"#"),r(" 1. 问题情况")],-1),ia=e("p",null,"卸载时出现以下提示：",-1),da=e("div",{class:"language-text ext-text"},[e("pre",{class:"language-text"},[e("code",null,"checking dependencies...\n:: removing linux510-headers breaks dependency 'linux510-headers' required by linux-latest-headers\n:: removing linux510-r8168 breaks dependency 'linux510-r8168' required by linux-latest-r8168\n")])],-1),ua=e("h3",{id:"_2-解决方案-5",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2-解决方案-5","aria-hidden":"true"},"#"),r(" 2. 解决方案")],-1),ha=r("参考 "),pa={href:"https://forum.manjaro.org/t/cannot-remove-linux57-breaks-dependency-required-by-linux-latest-something/7679",target:"_blank",rel:"noopener noreferrer"},ma=r("Cannot remove linux57 - breaks dependency .. required by linux-latest-[something]"),ba=r("，执行："),ga=e("div",{class:"language-bash ext-sh"},[e("pre",{class:"language-bash"},[e("code",null,[e("span",{class:"token function"},"sudo"),r(" pacman -Rcsnu linux510-headers\n"),e("span",{class:"token function"},"sudo"),r(" pacman -Rcsnu linux510-r8168\n")])])],-1),xa=e("p",null,"再次尝试后即可。",-1);var fa=t(i,[["render",function(r,o){const t=a("OutboundLink");return c(),n(l,null,[d,u,h,p,m,b,g,x,f,k,_,v,j,y,q,w,S,M,T,e("p",null,[D,e("a",E,[L,s(t)]),O]),R,A,B,C,F,N,P,e("p",null,[Q,e("a",z,[G,s(t)]),H]),I,J,K,U,V,W,X,Y,Z,$,aa,na,ea,e("ol",null,[e("li",null,[e("p",null,[e("a",sa,[la,s(t)]),ra]),oa])]),ca,ta,ia,da,ua,e("p",null,[ha,e("a",pa,[ma,s(t)]),ba]),ga,xa],64)}]]);export{fa as default};
