import{e as n}from"./app.48e8a1fe.js";const s={},a=n('<h2 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询" aria-hidden="true">#</a> 多表查询</h2><p>由于 JOIN 和 UNION 都是多表查询，所以放在一起了。</p><h2 id="join" tabindex="-1"><a class="header-anchor" href="#join" aria-hidden="true">#</a> JOIN</h2><h3 id="内部联结" tabindex="-1"><a class="header-anchor" href="#内部联结" aria-hidden="true">#</a> 内部联结</h3><p>内部联结又称为等值联结，它基于两个表之间的相等测试。</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>\n\tvend_name<span class="token punctuation">,</span>\n  prod_name<span class="token punctuation">,</span>\n  prod_price\n<span class="token keyword">FROM</span> vendors v\n<span class="token keyword">JOIN</span> products p\n\t<span class="token keyword">USING</span> <span class="token punctuation">(</span>vend_id<span class="token punctuation">)</span>\n<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> vend_name<span class="token punctuation">,</span> prod_name\n\n<span class="token comment">-- 自联结</span>\n<span class="token keyword">SELECT</span>\n\tp1<span class="token punctuation">.</span>prod_id<span class="token punctuation">,</span>\n  p1<span class="token punctuation">.</span>prod_name\n<span class="token keyword">FROM</span> products p1\n<span class="token keyword">JOIN</span> products p2\n\t<span class="token keyword">ON</span> p1<span class="token punctuation">.</span>vend_id <span class="token operator">=</span> p2<span class="token punctuation">.</span>vend_id\n\t<span class="token operator">AND</span> p2<span class="token punctuation">.</span>prod_id <span class="token operator">=</span> <span class="token string">&#39;DTNTR&#39;</span>\n</code></pre></div><h3 id="外部联结" tabindex="-1"><a class="header-anchor" href="#外部联结" aria-hidden="true">#</a> 外部联结</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>\n\tc<span class="token punctuation">.</span>cust_id<span class="token punctuation">,</span>\n  o<span class="token punctuation">.</span>order_num\n<span class="token keyword">FROM</span> customers c\n<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> orders o\n\t<span class="token keyword">ON</span> c<span class="token punctuation">.</span>cust_id <span class="token operator">=</span> o<span class="token punctuation">.</span>cust_id\n</code></pre></div><h3 id="聚集函数" tabindex="-1"><a class="header-anchor" href="#聚集函数" aria-hidden="true">#</a> 聚集函数</h3><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span>\n\tc<span class="token punctuation">.</span>cust_name<span class="token punctuation">,</span>\n  c<span class="token punctuation">.</span>cust_id<span class="token punctuation">,</span>\n  <span class="token function">count</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>order_num<span class="token punctuation">)</span> <span class="token keyword">as</span> num_ord\n<span class="token keyword">FROM</span> customers c\n<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> orders o\n\t<span class="token keyword">ON</span> c<span class="token punctuation">.</span>cust_id <span class="token operator">=</span> o<span class="token punctuation">.</span>cust_id\n<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> c<span class="token punctuation">.</span>cust_id\n</code></pre></div><h2 id="union" tabindex="-1"><a class="header-anchor" href="#union" aria-hidden="true">#</a> UNION</h2><p>在某种程度上 UNION 可以大幅简化 WHERE 子句。</p><p>UNION 中每个查询必须包含相同的列、表达式或聚集函数。</p><div class="language-sql ext-sql"><pre class="language-sql"><code><span class="token comment">-- 指定 ALL 不会取消重复的行</span>\n<span class="token keyword">SELECT</span>\n\tvend_id<span class="token punctuation">,</span>\n  prod_id<span class="token punctuation">,</span>\n  prod_price\n<span class="token keyword">FROM</span> products\n<span class="token keyword">WHERE</span> prod_price <span class="token operator">&lt;=</span> <span class="token number">5</span>\n<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>\n<span class="token keyword">SELECT</span>\n\tvend_id<span class="token punctuation">,</span>\n  prod_id<span class="token punctuation">,</span>\n  prod_price\n<span class="token keyword">FROM</span> products\n<span class="token keyword">WHERE</span> vend_id <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span> <span class="token number">1002</span><span class="token punctuation">)</span>\n</code></pre></div>',14);s.render=function(n,s){return a};export{s as default};
