import{r as n,o as s,c as a,a as p,b as t,F as e,d as o,e as c}from"./app.48e8a1fe.js";const l={},u=p("h2",{id:"æ¦‚å¿µ",tabindex:"-1"},[p("a",{class:"header-anchor",href:"#æ¦‚å¿µ","aria-hidden":"true"},"#"),o(" æ¦‚å¿µ")],-1),i=p("p",null,"Babel is a toolchain that is mainly used to convert ECMAScript 2015+ code into a backwards compatible version of JavaScript in current and older browsers or environments.",-1),r={href:"https://babeljs.io/docs/en/",target:"_blank",rel:"noopener noreferrer"},k=o("babel"),d=c('<p>åœ¨ <code>babel</code> çš„<strong>ä½¿ç”¨</strong>å½“ä¸­æœ‰ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š<code>presets</code>ã€<code>plugins</code>ï¼Œæ­¤å¤„ä½¿ç”¨çš„ <code>babel</code> ç‰ˆæœ¬ä¸º <code>babel7ï¼ˆ7.10.5ï¼‰</code>ã€‚</p><p><code>babel</code> å¯¹ <code>ES2015+</code> çš„ä»£ç åˆ†ä¸ºä¸¤ç§æƒ…å†µè¿›è¡Œå¤„ç†ï¼š</p><ol><li>è¯­æ³•å±‚ã€‚<code>const</code>ã€<code>class</code>ã€ç®­å¤´å‡½æ•°ç­‰ã€‚</li><li>API æ–¹æ³•å±‚ã€‚<code>Promise</code> æˆ– <code>Object</code>ã€ <code>Array</code> åŸå‹é“¾ä¸Šæ–°å¢çš„æ–¹æ³•ã€‚</li></ol><h2 id="åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–" aria-hidden="true">#</a> åˆå§‹åŒ–</h2><p>æ–°å»ºä¸€ä¸ªæµ‹è¯•ç¯å¢ƒï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">mkdir</span> babel-test/src babel-test/dist -p\n<span class="token function">touch</span> babel-test/src/source.js\n<span class="token builtin class-name">cd</span> babel-test <span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> init -y\n</code></pre></div>',6),g=p("code",null,"babel",-1),b=o(" å®˜ç½‘æä¾›äº† "),h={href:"https://babeljs.io/repl",target:"_blank",rel:"noopener noreferrer"},m=o("Try it out"),f=o(" å¯ä»¥æŸ¥çœ‹è½¬æ¢çš„æ•ˆæœï¼Œè€Œæœ¬åœ°åˆ™éœ€è¦è¦å€ŸåŠ© "),v=p("code",null,"@babel/cli",-1),y=o(" çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†å®ƒåˆä¾èµ–äº "),j=p("code",null,"@babel/core",-1),q=o("ï¼Œæ‰€ä»¥ï¼š"),x=c('<div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @babel/core @babel/cli\n</code></pre></div><p>åˆ›å»ºé…ç½®æ–‡ä»¶ <code>babel.config.js</code>ï¼Œä¹Ÿå¯ä½¿ç”¨ <code>.babelrc</code>ã€<code>package.json</code> ç­‰æ¥æŒ‡å®šè§„åˆ™ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// babel.config.js</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>åœ¨ <code>source.js</code> æ·»åŠ ä¸ªç®­å¤´å‡½æ•°ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// src/source.js</span>\n<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>\n</code></pre></div><p>åœ¨ä»€ä¹ˆè§„åˆ™éƒ½æ²¡æœ‰çš„æƒ…å†µä¸‹ä½¿ç”¨ <code>babel</code> è¿›è¡Œè½¬æ¢ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel source.js\n\n<span class="token comment"># const fn = () =&gt; 1;</span>\n</code></pre></div><h3 id="_1-plugins" tabindex="-1"><a class="header-anchor" href="#_1-plugins" aria-hidden="true">#</a> 1. plugins</h3><p>å¦‚æœæƒ³å°† <code>ES2015</code> çš„è¯­æ³•è½¬æ¢ä¸º <code>ES5</code> å¯é…ç½® <code>plugins</code> æ¥è§£å†³ã€‚</p><ol><li><p>è½¬æ¢ç®­å¤´å‡½æ•°ã€‚</p><p>é¦–å…ˆå®‰è£…ä¾èµ–ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @babel/plugin-transform-arrow-functions -D\n</code></pre></div><p>å†é…ç½®è§„åˆ™ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-arrow-functions&quot;</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>æœ€åæŸ¥çœ‹æ•ˆæœï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src/source.js\n\n<span class="token comment"># è¿”å›ç»“æœ</span>\nconst fn <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div></li><li><p>è½¬æ¢ <code>const</code>ã€‚</p><p>é¦–å…ˆå®‰è£…ä¾èµ–ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @babel/plugin-transform-block-scoping -D\n</code></pre></div><p>å†é…ç½®è§„åˆ™ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-arrow-functions&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@babel/plugin-transform-block-scoping&quot;</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>æœ€åæŸ¥çœ‹æ•ˆæœï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src/source.js\n\n<span class="token comment"># è¿”å›ç»“æœ</span>\nvar fn <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div></li></ol><h3 id="_2-presets" tabindex="-1"><a class="header-anchor" href="#_2-presets" aria-hidden="true">#</a> 2. presets</h3><p>å¦‚æœåœ¨å®é™…ä½¿ç”¨ä¸­éœ€è¦å°†æ’ä»¶ä¸€ä¸ªä¸ªçš„è¿½åŠ ä¸Šå»ï¼Œé‚£æ€•æ˜¯å¾—è¯ç”Ÿå¾ˆå¤šå‰ç«¯æ¶æ„å¸ˆäº†ğŸ™‚ï¼Œæ‰€ä»¥å°±å¼•å‡ºäº† <code>presets</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¾‹å¦‚ <code>babel-preset-es2015</code> å°±æ˜¯ç”¨æ¥è§£å†³ <code>ES2015</code> æ–°å¢çš„ç‰¹æ€§çš„ï¼Œå…¶ä»–åŒç†ã€‚</p><p>ä¸è¿‡åœ¨ <code>Try it out</code> ä¸­å¯ä»¥è§åˆ°å¸¦æœ‰å¹´ä»£çš„ <code>preset</code> åªåˆ° 2017ï¼ˆå¯¹åº” 2018 å¹´ï¼‰ï¼Œè€Œç°å¦‚ä»Šéƒ½ 2020 å¹´äº†ï¼›è‡³äº <code>@babel/preset-stage-X</code> ç³»åˆ—æ˜¾ç„¶æ›´è®©äººå‘æ„ï¼Œä¼—æ‰€å‘¨çŸ¥çš„æ˜¯ <code>stage</code> è‰æ¡ˆæ€»æ˜¯åœ¨å˜çš„ï¼Œé‚£ç‰¹æ€§æœ€åä¼šèµ°åˆ°é‚£ä¸€æ­¥å‘¢ï¼Ÿ</p><p><strong>æ€»è€Œè¨€ä¹‹ï¼Œç°åœ¨åªéœ€è¦ä½¿ç”¨ <code>@babel/preset-env</code> å°±å¯ä»¥äº†ã€‚</strong></p><p>å½“ç„¶å®é™…å¼€å‘ä¸­è¿˜éœ€è¦ç±»å‹æ£€æŸ¥ã€åŠ <code>react</code> å’Œ <code>vue</code> ç­‰ç‰¹å®šè¯­æ³•è¿›è¡Œè½¬æ¢ï¼Œæ‰€ä»¥è¿˜æœ‰ <code>@babel/preset-typescript</code>ã€<code>@babel/preset-react</code> ç­‰é¢„è®¾ã€‚</p><p>å®‰è£…ä¾èµ–ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @babel/preset-env -D\n</code></pre></div><p>å†é…ç½®è§„åˆ™ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// ç¼©å†™</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>æœ€åæŸ¥çœ‹æ•ˆæœï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src/source.js\n\n<span class="token comment"># è¿”å›ç»“æœ</span>\n<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>\n\nvar fn <span class="token operator">=</span> <span class="token function-name function">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token builtin class-name">return</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div><p><code>@babel/preset-env</code> æ¯”è¾ƒæ™ºèƒ½çš„æ˜¯ä½ å¯ä»¥æ ¹æ®ä½ ç›®æ ‡æµè§ˆå™¨ï¼ˆ<code>browserslist</code>ï¼‰æ¥ç”Ÿæˆå¯¹åº”çš„ä»£ç ï¼Œä¾‹å¦‚æ­¤å¤„æˆ‘ä»¬ç›®æ ‡æµè§ˆå™¨ä»…ä¸ºæ–°ç‰ˆçš„ Chromeã€‚</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;last 1 chrome version&quot;</span> <span class="token operator">&gt;</span> .browserslistrc\n</code></pre></div><p>å†æ¬¡æŸ¥çœ‹æ•ˆæœï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src/source.js\n\n<span class="token comment"># è¿”å›ç»“æœ</span>\n<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>\n\nconst fn <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>\n</code></pre></div><h3 id="_3-æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#_3-æ³¨æ„äº‹é¡¹" aria-hidden="true">#</a> 3. æ³¨æ„äº‹é¡¹</h3><div class="custom-container tip"><p class="custom-container-title">plugins &amp; presets</p><ul><li>plugins åœ¨ presets å‰æ‰§è¡Œ</li><li>plugins é¡ºåºä¸ºä»å‰å¾€åæ‰§è¡Œ</li><li>presets é¡ºåºä¸ºä»åå¾€å‰æ‰§è¡Œ</li></ul></div><h2 id="polyfill" tabindex="-1"><a class="header-anchor" href="#polyfill" aria-hidden="true">#</a> polyfill</h2><p><code>polyfill</code> ä¸»è¦æ˜¯å¤„ç† <code>babel</code> åº”å¯¹çš„ç¬¬äºŒç§æƒ…å†µ â€œæ–°å¢ APIâ€ã€‚</p><h3 id="_1-ä½¿ç”¨-promise-æ–°ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#_1-ä½¿ç”¨-promise-æ–°ç‰¹æ€§" aria-hidden="true">#</a> 1. ä½¿ç”¨ Promise æ–°ç‰¹æ€§</h3><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// src/source.js</span>\n<span class="token keyword">const</span> name <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;shanyuhai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><p>ç¼–è¯‘ä»£ç ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src/source.js\n\n<span class="token comment"># è¾“å‡ºç»“æœ</span>\n<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>\n\nvar num <span class="token operator">=</span> Promise.resolve<span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><p>å¯ä»¥æ³¨æ„åˆ° <code>Promise</code> æ²¡æœ‰è¢«è½¬æ¢ã€‚</p><h3 id="_2-å¯ç”¨-polyfill" tabindex="-1"><a class="header-anchor" href="#_2-å¯ç”¨-polyfill" aria-hidden="true">#</a> 2. å¯ç”¨ polyfill</h3><p>åœ¨ä»¥å‰å¯èƒ½æœ‰å¾ˆå¤šå½¢å¼æ¥å¼•å…¥ <code>polyfill</code>ï¼Œä¾‹å¦‚ï¼š<code>html</code>ã€<code>å…¥å£ js</code>ã€<code>webpack é…ç½®</code>ï¼Œä½†ç°åœ¨ä»…éœ€è¦ä¿®æ”¹ <code>@babel/env</code> é…ç½®é¡¹å³å¯ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// babel.config.js</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    <span class="token comment">// å¯é€‰å‚æ•° false(é»˜è®¤)ã€entryã€usage</span>\n    <span class="token comment">// false è¡¨ç¤ºä¸å¯ç”¨ï¼Œentryã€usage éƒ½ä¼šæ ¹æ®ç›®æ ‡ç¯å¢ƒæ¥è¡¥å…… API</span>\n    <span class="token comment">// entry ä¼šæ ¹æ® `.browserslist` æ¥è¡¥å……ä¸æ”¯æŒçš„ APIï¼Œä¸ç®¡æˆ‘ä»¬æœ‰æ²¡æœ‰ä½¿ç”¨åˆ°</span>\n    <span class="token comment">// è€Œ usage åœ¨ `entry` åŸºç¡€ä¸Šåˆ¤æ–­æˆ‘ä»¬æ˜¯å¦ä½¿ç”¨äº†å¯¹åº”çš„ APIï¼Œæœªä½¿ç”¨æ‰ä¼šå¼•å…¥</span>\n    <span class="token comment">// ä¸” entry éœ€è¦åœ¨å…¥å£å¤„æ‰‹åŠ¨å¼•å…¥ `@babel/polyfill` æˆ– `core-js`ï¼Œè€Œ `usage` è‡ªåŠ¨æ³¨å…¥</span>\n    useBuiltIns<span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>æ‰§è¡ŒæŸ¥çœ‹æ•ˆæœï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src/source.js\n\n<span class="token comment"># è¾“å‡ºç»“æœï¼Œå¹¶æç¤ºæˆ‘ä»¬ä½¿ç”¨ 3</span>\nWARNING: We noticed you<span class="token string">&#39;re using the `useBuiltIns` option without declaring a core-js version. Currently, we assume version 2.x when no version is passed. Since this default version will likely change in future versions of Babel, we recommend explicitly setting the core-js version you are using via the `corejs` option.\n\nYou should also be sure that the version you pass to the `corejs` option matches the version specified in your `package.json`&#39;</span>s <span class="token variable"><span class="token variable">`</span>dependencies<span class="token variable">`</span></span> section. If it doesn&#39;t, you need to run one of the following commands:\n\n  <span class="token function">npm</span> <span class="token function">install</span> --save core-js@2    <span class="token function">npm</span> <span class="token function">install</span> --save core-js@3\n  <span class="token function">yarn</span> <span class="token function">add</span> core-js@2              <span class="token function">yarn</span> <span class="token function">add</span> core-js@3\n\n<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>\n\nrequire<span class="token punctuation">(</span><span class="token string">&quot;core-js/modules/es6.promise&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nrequire<span class="token punctuation">(</span><span class="token string">&quot;core-js/modules/es6.object.to-string&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nvar name <span class="token operator">=</span> Promise.resolve<span class="token punctuation">(</span><span class="token string">&quot;shanyuhai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="æå–è¾…åŠ©å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æå–è¾…åŠ©å‡½æ•°" aria-hidden="true">#</a> æå–è¾…åŠ©å‡½æ•°</h2><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// module.js</span>\n<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello, my name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// source.js</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Person <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./module&quot;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">Baby</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>\n  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hhhh...</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span> \n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">const</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Baby</span><span class="token punctuation">(</span><span class="token string">&quot;xiaoming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoming<span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><p>è½¬æ¢ä»£ç ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code>npx babel src -d ./dist\n</code></pre></div><p>åœ¨ç”Ÿæˆçš„ä¸¤ä»½æ–‡ä»¶ä¸­éƒ½å¯ä»¥çœ‹åˆ°è¾…åŠ©å‡½æ•°ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token parameter">instance<span class="token punctuation">,</span> Constructor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Constructor</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot call a class as a function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> props<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> descriptor <span class="token operator">=</span> props<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span> descriptor<span class="token punctuation">.</span>configurable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span> descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>key<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>\n\n<span class="token keyword">function</span> <span class="token function">_createClass</span><span class="token punctuation">(</span><span class="token parameter">Constructor<span class="token punctuation">,</span> protoProps<span class="token punctuation">,</span> staticProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>protoProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> protoProps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>staticProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> staticProps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> Constructor<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n</code></pre></div><p>æ¯«æ— ç–‘é—®ï¼Œå¯¹äºç›®å‰çš„é¡¹ç›®ï¼Œæ‹¥æœ‰å‡ åç”šè‡³ä¸Šç™¾ä¸ªæ¨¡å—éƒ½æ˜¯éå¸¸å¸¸è§çš„äº‹æƒ…ï¼Œè¿™ä¼šé€ æˆæœ€ç»ˆç”Ÿæˆæ–‡ä»¶çš„å¢å¤§ã€‚</p><h3 id="_1-runtime" tabindex="-1"><a class="header-anchor" href="#_1-runtime" aria-hidden="true">#</a> 1. runtime</h3><p>å®‰è£…æå–æ’ä»¶ï¼š</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @babel/plugin-transform-runtime -D\n</code></pre></div><p>åœ¨ <code>plugins</code> ä¸­å¯ç”¨ï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n    useBuiltIns<span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>\n    <span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span>\n  <span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>å†æ¬¡è½¬æ¢æŸ¥çœ‹æ•ˆæœï¼š</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// module.js</span>\n<span class="token keyword">var</span> _interopRequireDefault <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/runtime/helpers/interopRequireDefault&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> _classCallCheck2 <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/runtime/helpers/classCallCheck&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">var</span> _createClass2 <span class="token operator">=</span> <span class="token function">_interopRequireDefault</span><span class="token punctuation">(</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;@babel/runtime/helpers/createClass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><p>å¯ä»¥çœ‹åˆ°åˆ©ç”¨äº† <code>@babel/runtime</code> çš„åŒ…æä¾›è¾…åŠ©å‡½æ•°æ¨¡å—ã€‚</p>',56);l.render=function(o,c){const l=n("OutboundLink");return s(),a(e,null,[u,p("blockquote",null,[i,p("p",null,[p("a",r,[k,t(l)])])]),d,p("p",null,[g,b,p("a",h,[m,t(l)]),f,v,y,j,q]),x],64)};export{l as default};
