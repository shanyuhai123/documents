import{_ as a,c as n,a as s,o as t}from"./app-CQrWi6O2.js";const r={};function l(i,e){return t(),n("div",null,[...e[0]||(e[0]=[s(`<h1 id="nginx-的-rewrite-规则" tabindex="-1"><a class="header-anchor" href="#nginx-的-rewrite-规则"><span>Nginx 的 rewrite 规则</span></a></h1><p><code>rewrite</code> 常用于 <code>url</code> 重写，以及重定向。准确来说 <code>rewrite</code> 是作用于 <code>$request_uri</code>。</p><p>其实理解完修改的是 <code>$request_uri</code> 部分即可理解，我之前是卡在这里了。</p><div class="language-nginx" data-highlighter="prismjs" data-ext="nginx" data-title="nginx"><pre><code><span class="line"><span class="token directive"><span class="token keyword">Syntax:</span> rewrite regex replacement [flag]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token directive"><span class="token keyword">Default:</span> —</span>
<span class="line">Context: server, location, if</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Example</span></span>
<span class="line">rewrite ^(.*) https://<span class="token variable">$host</span><span class="token variable">$1</span> permanent</span><span class="token punctuation">;</span> <span class="token comment"># https</span></span>
<span class="line"></span>
<span class="line"><span class="token directive"><span class="token keyword">if</span> (<span class="token variable">$http_user_agent</span> ~ Chrome)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token directive"><span class="token keyword">rewrite</span> ^(.*)$ /chrome/<span class="token variable">$1</span> break</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h2 id="flag" tabindex="-1"><a class="header-anchor" href="#flag"><span>flag</span></a></h2><table><thead><tr><th style="text-align:center;">flag</th><th>说明</th></tr></thead><tbody><tr><td style="text-align:center;">last</td><td>使用更改的 URI 匹配新位置。</td></tr><tr><td style="text-align:center;">break</td><td>停止处理当前的指令集。</td></tr><tr><td style="text-align:center;">redirect</td><td>返回 302 （临时）重定向。</td></tr><tr><td style="text-align:center;">permanent</td><td>返回 301 （永久）重定向。</td></tr></tbody></table>`,6)])])}const c=a(r,[["render",l]]),o=JSON.parse('{"path":"/backend/nginx/rewrite-rules.html","title":"Nginx 的 rewrite 规则","lang":"zh-CN","frontmatter":{"description":"Nginx 的 rewrite 规则"},"headers":[{"level":2,"title":"flag","slug":"flag","link":"#flag","children":[]}],"git":{"updatedTime":1637394521000,"contributors":[{"name":"shanyuhai123","username":"shanyuhai123","email":"864299347@qq.com","commits":3,"url":"https://github.com/shanyuhai123"}]},"filePathRelative":"backend/nginx/rewrite-rules.md"}');export{c as comp,o as data};
