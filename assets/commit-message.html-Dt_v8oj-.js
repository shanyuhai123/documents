import{_ as a,c as n,a as e,o as p}from"./app-DLCc4AGN.js";const t={};function o(l,s){return p(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="è§„èŒƒ-git-æäº¤ä¿¡æ¯å¹¶ç”Ÿæˆæ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#è§„èŒƒ-git-æäº¤ä¿¡æ¯å¹¶ç”Ÿæˆæ—¥å¿—"><span>è§„èŒƒ Git æäº¤ä¿¡æ¯å¹¶ç”Ÿæˆæ—¥å¿—</span></a></h1><h2 id="commit-è§„èŒƒåŒ–" tabindex="-1"><a class="header-anchor" href="#commit-è§„èŒƒåŒ–"><span>Commit è§„èŒƒåŒ–</span></a></h2><p>å¤§å®¶éƒ½ä½¿ç”¨ <a href="https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0" target="_blank" rel="noopener noreferrer">Angular è§„èŒƒ</a>ã€‚</p><p>Commit message åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token operator">&lt;</span>type<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>scope<span class="token operator">&gt;</span><span class="token punctuation">)</span>: <span class="token operator">&lt;</span>subject<span class="token operator">&gt;</span> <span class="token comment"># å¿…å¡«</span></span>
<span class="line"><span class="token operator">&lt;</span>BLANK LINE<span class="token operator">&gt;</span> <span class="token comment"># ç©ºä¸€è¡Œ</span></span>
<span class="line"><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span> <span class="token comment"># å¯é€‰</span></span>
<span class="line"><span class="token operator">&lt;</span>BLANK LINE<span class="token operator">&gt;</span> <span class="token comment"># ç©ºä¸€è¡Œ</span></span>
<span class="line"><span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span> <span class="token comment"># å¯é€‰</span></span>
<span class="line"></span></code></pre></div><ul><li><p>typeï¼šå¿…å¡«ï¼Œ<code>commit</code> çš„ç±»å‹</p><ul><li>featï¼šæ–°åŠŸèƒ½</li><li>fixï¼šä¿®å¤ bug</li><li>docsï¼šæ–‡æ¡£ä¿®æ”¹</li><li>styleï¼šæ ¼å¼ä¿®æ”¹ï¼Œä¾‹å¦‚ç©ºæ ¼ã€åˆ†å·ç­‰</li><li>refactorï¼šä¸å¢åŠ åŠŸèƒ½ä¹Ÿä¸ä¿®å¤ bug çš„ä»£ç æ›´æ”¹</li><li>perfï¼šæ€§èƒ½æå‡ã€äº¤äº’ä¼˜åŒ–</li><li>testï¼šæµ‹è¯•ç›¸å…³ä¿®æ”¹</li><li>buildï¼šå¤–éƒ¨ä¾èµ–é¡¹çš„ä¿®æ”¹ï¼Œå¦‚ gulpã€npm</li><li>ciï¼šci çš„ä¿®æ”¹</li><li>choreï¼šå…³äºæ„å»ºé¡¹ç›®ç›¸å…³çš„ä¿®æ”¹ï¼Œéä»£ç å’Œæµ‹è¯•</li><li>revertï¼šç‰ˆæœ¬å›æ»š</li></ul></li><li><p>scopeï¼šé€‰å¡«ï¼Œ<code>commit</code> çš„å½±å“èŒƒå›´ï¼Œå¸¸æŒ‡å®šæ¨¡å—æˆ–æ–‡ä»¶å</p></li><li><p>subjectï¼šå¿…å¡«ï¼Œ<code>commit</code> çš„ç®€çŸ­æè¿°</p></li><li><p>bodyï¼šé€‰å¡«ï¼Œ<code>commit</code> çš„è¯¦ç»†æè¿°</p></li><li><p>footerï¼šé€‰å¡«ï¼Œå¤‡æ³¨ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯ç ´åæ€§æ›´æ–°æˆ–å…³é—­ Issue</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">BREAKING CHANGE: å˜åŠ¨çš„æè¿°</span>
<span class="line">Close <span class="token comment">#ISSUE_ID</span></span>
<span class="line">Closes <span class="token comment">#ISSUE_ID, #ISSUE_ID</span></span>
<span class="line"></span></code></pre></div></li></ul><h3 id="_1-æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_1-æ¨¡æ¿"><span>1. æ¨¡æ¿</span></a></h3><p>æäº¤ä¿¡æ¯æœ€å¥½åœ¨åœ¨<a href="https://www.npmjs.com/package/commitizen" target="_blank" rel="noopener noreferrer">æ¨¡æ¿</a>çš„çº¦æŸä¸‹ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> i commitizen <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre></div><p>åˆå§‹åŒ–é€‚é…å™¨ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">npx commitizen init cz-conventional-changelog <span class="token parameter variable">--yarn</span> <span class="token parameter variable">--dev</span> <span class="token parameter variable">--exact</span></span>
<span class="line"></span></code></pre></div><p>åœ¨ <code>package.json</code> ä¸­æ·»åŠ  <code>script</code>ï¼š</p><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;commit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cz&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;commitizen&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cz-conventional-changelog&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>å½“æ‰§è¡Œ <code>yarn run commit</code> å°±å¯ä»¥ä½¿ç”¨æäº¤æ¨¡æ¿äº†ã€‚</p><h3 id="_2-å¼ºåˆ¶è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#_2-å¼ºåˆ¶è§„èŒƒ"><span>2. å¼ºåˆ¶è§„èŒƒ</span></a></h3><p>ä¸ºäº†åœ¨å„ç§å§¿åŠ¿ä½¿ commit ç¬¦åˆè§„èŒƒï¼Œ<a href="https://github.com/conventional-changelog/commitlint#readme" target="_blank" rel="noopener noreferrer">æ ¡éªŒ</a>æ˜¯å¿…è¦çš„ã€‚æ³¨æ„ <strong>husky v5</strong> é…ç½®æœ‰æ‰€<a href="https://typicode.github.io/husky/#/?id=migrate-from-v4-to-v6" target="_blank" rel="noopener noreferrer">æ›´æ”¹</a>ã€‚</p><p><strong>å¦‚ä½•æ ¡éªŒï¼š</strong></p><ul><li><p>å®‰è£…ä¾èµ–</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> i @commitlint/cli @commitlint/config-conventional <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre></div></li><li><p>æŒ‡å®šæ ¡éªŒæ¨¡æ¿</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token builtin class-name">echo</span> <span class="token string">&quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot;</span> <span class="token operator">&gt;</span> commitlint.config.js</span>
<span class="line"></span></code></pre></div></li></ul><p><strong>ä½•æ—¶æ ¡éªŒï¼š</strong></p><p>å¾ˆæ˜æ˜¾éœ€è¦åœ¨ <code>git commit</code> å‰çš„ç”Ÿå‘½å‘¨æœŸå†…è¿›è¡Œæ ¡éªŒã€‚</p><ul><li><p>å®‰è£… husky</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> i husky <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre></div></li><li><p>æ‹¦æˆª git hook</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># Active hooks</span></span>
<span class="line">npx husky <span class="token function">install</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Add hook</span></span>
<span class="line">npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&quot;npx --no-install commitlint --edit <span class="token variable">$1</span>&quot;</span></span>
<span class="line"></span></code></pre></div></li><li><p>æµ‹è¯•</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span></span>
<span class="line"><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;hello husky&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># æ‹¦æˆª</span></span>
<span class="line">â§—   input: hello husky</span>
<span class="line">âœ–   subject may not be empty <span class="token punctuation">[</span>subject-empty<span class="token punctuation">]</span></span>
<span class="line">âœ–   <span class="token builtin class-name">type</span> may not be empty <span class="token punctuation">[</span>type-empty<span class="token punctuation">]</span></span>
<span class="line"></span></code></pre></div></li></ul><h2 id="ç”Ÿæˆ-changelog" tabindex="-1"><a class="header-anchor" href="#ç”Ÿæˆ-changelog"><span>ç”Ÿæˆ CHANGELOG</span></a></h2><p>æ ¹æ®è§„åˆ™ç”Ÿæˆ CHANGELOG çš„å‰ææ˜¯ commit è§„èŒƒåŒ–ã€‚</p><p>é¦–å…ˆå®‰è£…<a href="https://github.com/conventional-changelog/standard-version" target="_blank" rel="noopener noreferrer">ä¾èµ–</a>ï¼Œå¦‚æœä¹‹å‰ä½¿ç”¨äº†å…¶ä»–æ¨¡æ¿ï¼Œä¹Ÿåº”å¯»æ‰¾å¯¹åº”çš„ä¾èµ–ã€‚</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> i standard-version <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre></div><p>åœ¨ <code>package.json</code> ä¸­æ·»åŠ  <code>script</code>ï¼š</p><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;changelog&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standard-version&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>æ‰§è¡Œ <code>npm run release</code> å¾—åˆ°çš„æ•ˆæœä¸€èˆ¬ï¼Œé‚£ä¹ˆè‡ªç„¶å¸Œæœ›åŠ ç‚¹æ–™ã€‚</p><h3 id="_1-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-é…ç½®"><span>1. é…ç½®</span></a></h3><p>æ–°å¢ <a href="https://github.com/conventional-changelog/conventional-changelog-config-spec/blob/master/versions/2.1.0/README.md" target="_blank" rel="noopener noreferrer"><code>.versionrc.js</code></a> æ–‡ä»¶ï¼š</p><div class="language-javascript" data-highlighter="prismjs" data-ext="js" data-title="js"><pre><code><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;header&quot;</span><span class="token operator">:</span> <span class="token string">&quot;# CHANGELOG\\n\\nè¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„ CHANGELOGã€‚\\n\\n&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span> <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;feat&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;section&quot;</span><span class="token operator">:</span> <span class="token string">&quot;âœ¨ Features | æ–°åŠŸèƒ½&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span> <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fix&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;section&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ğŸ› Fixes | Bug ä¿®å¤&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span> <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;perf&quot;</span><span class="token punctuation">,</span> <span class="token string-property property">&quot;section&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ğŸ”¥ Performance Improvements | æ€§èƒ½ä¼˜åŒ–&quot;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-æŒ‡å®šç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#_2-æŒ‡å®šç‰ˆæœ¬"><span>2. æŒ‡å®šç‰ˆæœ¬</span></a></h3><p>npm å‘½ä»¤ä¼ å‚éœ€è¦ä½¿ç”¨ <code>--</code>ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> run changelog -- --release-as <span class="token number">1.6</span>.0</span>
<span class="line"><span class="token comment"># æˆ–</span></span>
<span class="line"><span class="token function">npm</span> run changelog -- <span class="token parameter variable">-r</span> minor</span>
<span class="line"></span></code></pre></div><h3 id="_3-hash-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#_3-hash-é“¾æ¥"><span>3. hash é“¾æ¥</span></a></h3><p>è¿™éœ€è¦ä¸ºé¡¹ç›®æ·»åŠ  <code>git remote</code> åœ°å€ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">git</span> remote <span class="token function">add</span> origin git@github.com:yourname/project.git</span>
<span class="line"></span></code></pre></div><h2 id="ä»£ç æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#ä»£ç æ ¡éªŒ"><span>ä»£ç æ ¡éªŒ</span></a></h2><p>å‰é¢å·²ç»æ‰“å¥½äº†é“ºå«ï¼ŒåŠ ä¸Šä»£ç æ ¡éªŒä¹Ÿæ˜¯é¡ºç†æˆç« çš„äº‹æƒ…ã€‚</p><p>ä¸€èˆ¬ä»£ç æ ¡éªŒåªå¸Œæœ›<a href="https://www.npmjs.com/package/lint-staged" target="_blank" rel="noopener noreferrer">æ ¡éªŒæ›´æ–°çš„æ–‡ä»¶</a>ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">npm</span> i lint-staged <span class="token parameter variable">-D</span></span>
<span class="line"></span></code></pre></div><p>æ¥ç€å‰å¾€ <code>package.json</code> å¢åŠ  <code>lint-staged</code> å­—æ®µï¼Œä»¥ vue-cli åˆ›å»ºçš„é¡¹ç›®ç¤ºä¾‹ï¼š</p><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;*.{js,jsx,vue,ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;vue-cli-service lint&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;git add&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>è€Œ husky æ ¡éªŒåŒæ ·ä¸åœ¨ <code>package.json</code> ä¸­è®¾ç½®äº†ï¼š</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">npx husky <span class="token function">add</span> .husky/pre-commit <span class="token string">&quot;npx --no-install lint-staged&quot;</span></span>
<span class="line"></span></code></pre></div><p>å¦‚æœè¿˜æƒ³åŠ äº›ä»€ä¹ˆï¼Œå¯ä»¥æ‰‹åŠ¨è¿½åŠ ï¼Œä¾‹å¦‚ <a href="https://github.com/stylelint/stylelint" target="_blank" rel="noopener noreferrer">stylelint</a>ã€‚</p>`,46)])])}const i=a(t,[["render",o]]),r=JSON.parse('{"path":"/tools/git/commit-message.html","title":"è§„èŒƒ Git æäº¤ä¿¡æ¯å¹¶ç”Ÿæˆæ—¥å¿—","lang":"zh-CN","frontmatter":{"tags":["husky"]},"headers":[{"level":2,"title":"Commit è§„èŒƒåŒ–","slug":"commit-è§„èŒƒåŒ–","link":"#commit-è§„èŒƒåŒ–","children":[{"level":3,"title":"1. æ¨¡æ¿","slug":"_1-æ¨¡æ¿","link":"#_1-æ¨¡æ¿","children":[]},{"level":3,"title":"2. å¼ºåˆ¶è§„èŒƒ","slug":"_2-å¼ºåˆ¶è§„èŒƒ","link":"#_2-å¼ºåˆ¶è§„èŒƒ","children":[]}]},{"level":2,"title":"ç”Ÿæˆ CHANGELOG","slug":"ç”Ÿæˆ-changelog","link":"#ç”Ÿæˆ-changelog","children":[{"level":3,"title":"1. é…ç½®","slug":"_1-é…ç½®","link":"#_1-é…ç½®","children":[]},{"level":3,"title":"2. æŒ‡å®šç‰ˆæœ¬","slug":"_2-æŒ‡å®šç‰ˆæœ¬","link":"#_2-æŒ‡å®šç‰ˆæœ¬","children":[]},{"level":3,"title":"3. hash é“¾æ¥","slug":"_3-hash-é“¾æ¥","link":"#_3-hash-é“¾æ¥","children":[]}]},{"level":2,"title":"ä»£ç æ ¡éªŒ","slug":"ä»£ç æ ¡éªŒ","link":"#ä»£ç æ ¡éªŒ","children":[]}],"git":{"updatedTime":1652280369000,"contributors":[{"name":"shanyuhai123","username":"shanyuhai123","email":"864299347@qq.com","commits":4,"url":"https://github.com/shanyuhai123"}]},"filePathRelative":"tools/git/commit-message.md"}');export{i as comp,r as data};
