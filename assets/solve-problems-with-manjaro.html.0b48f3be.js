import{r as a,o as n,c as e,a as s,b as l,F as r,d as o,e as c}from"./app.18086c58.js";const t={},i=s("h1",{id:"manjaro-的异常处理",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#manjaro-的异常处理","aria-hidden":"true"},"#"),o(" Manjaro 的异常处理")],-1),d=s("h2",{id:"解决-manjaro-录屏闪烁",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#解决-manjaro-录屏闪烁","aria-hidden":"true"},"#"),o(" 解决 Manjaro 录屏闪烁")],-1),u=s("h3",{id:"_1-问题情况",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-问题情况","aria-hidden":"true"},"#"),o(" 1. 问题情况")],-1),h=s("p",null,"在使用 Manjaro 录屏后，发现录制出来的屏幕经常闪烁，部分画面遗失。",-1),p=s("h3",{id:"_2-解决方案",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-解决方案","aria-hidden":"true"},"#"),o(" 2. 解决方案")],-1),m=s("div",{class:"custom-container tip"},[s("p",{class:"custom-container-title"},"步骤"),s("p",null,[s("code",null,"系统设置"),o(" > "),s("code",null,"硬件"),o(" > "),s("code",null,"显示和监控"),o(" > "),s("code",null,"混成器"),o(" > "),s("code",null,"避免撕裂(垂直同步)"),o(" > "),s("code",null,"从不")])],-1),b=s("p",null,[s("img",{src:"/os/manjaro/screen-flashing-when-recording.png",alt:"录屏闪烁"})],-1),g=s("h2",{id:"禁用笔记本键盘",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#禁用笔记本键盘","aria-hidden":"true"},"#"),o(" 禁用笔记本键盘")],-1),x=s("h3",{id:"_1-问题情况-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-问题情况-1","aria-hidden":"true"},"#"),o(" 1. 问题情况")],-1),f=s("p",null,"之前键盘进过水导致会启用按键失灵，所以需要禁用自带的键盘。",-1),k=s("h3",{id:"_2-解决方案-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-解决方案-1","aria-hidden":"true"},"#"),o(" 2. 解决方案")],-1),_=s("div",{class:"custom-container tip"},[s("p",{class:"custom-container-title"},"初级方案"),s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"# manjaro 下 xinput 被 xorg-xinput 替代"),o("\n"),s("span",{class:"token function"},"sudo"),o(" pacman -S xorg-xinput\n"),s("span",{class:"token comment"},"# 查看设备列表"),o("\nxinput list\n"),s("span",{class:"token comment"},"# 查看笔记本键盘信息 "),o("\nxinput list-props "),s("span",{class:"token string"},"'AT Translated Set 2 keyboard'"),o("\n"),s("span",{class:"token comment"},"# Device Enabled (147): 1 =》 `1` 表示维禁用"),o("\nxinput set-prop "),s("span",{class:"token number"},"17"),o(),s("span",{class:"token string"},"'Device Enabled'"),o(),s("span",{class:"token number"},"0"),o("\n"),s("span",{class:"token comment"},"# 再次查看设备信息即可"),o("\n")])])])],-1),v=s("div",{class:"custom-container danger"},[s("p",{class:"custom-container-title"},"终极方案"),s("p",null,[s("code",null,"关电源"),o(" > "),s("code",null,"打开后盖"),o(" > "),s("code",null,"拆除笔记本键盘排线")])],-1),j=s("h2",{id:"修复文件夹名为英文",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#修复文件夹名为英文","aria-hidden":"true"},"#"),o(" 修复文件夹名为英文")],-1),y=s("h3",{id:"_1-问题情况-2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-问题情况-2","aria-hidden":"true"},"#"),o(" 1. 问题情况")],-1),q=s("p",null,"将系统设置为中文后，用户目录下的文件夹也随之变为中文，在日常使用时就会造成频繁切换输入这就让人很烦了。而直接重命名会导致出现一些问题。",-1),w=s("h3",{id:"_2-解决方案-2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-解决方案-2","aria-hidden":"true"},"#"),o(" 2. 解决方案")],-1),S=s("div",{class:"custom-container tip"},[s("p",{class:"custom-container-title"},"初级方案"),s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"# 1. 找到 `～/.config/user-dirs.dis` 文件"),o("\n"),s("span",{class:"token function"},"vim"),o(" ~/.config/user-dirs.dirs \n"),s("span",{class:"token comment"},"# 2. 接着将中文命名修改为新改的英文，并使其生效"),o("\n"),s("span",{class:"token builtin class-name"},"source"),o(" ~/.config/user-dirs.dirs\n"),s("span",{class:"token comment"},"# 3. 然而这并没有结束，你还需要修改右侧图标的位置"),o("\n右键 "),s("span",{class:"token operator"},">"),o(" 编辑 "),s("span",{class:"token operator"},">"),o(" 位置\n")])])])],-1),M=s("h2",{id:"双显卡解决方案",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#双显卡解决方案","aria-hidden":"true"},"#"),o(" 双显卡解决方案")],-1),T=o("参考 "),D={href:"https://blog.kongjune.com/manjaro-prime/",target:"_blank",rel:"noopener noreferrer"},E=o("在 Manjaro 配置 Optimus manager 实现 Nvidia-Prime 双显卡解决方案"),L=o(" 即可。"),O=s("p",null,[o("由于使用的版本为 "),s("code",null,"manjaro Lysia"),o("，所以配置项都无需处理，仅仅是：")],-1),R=s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"sudo"),o(" pacman -S optimus-manager optimus-manager-qt\n\n"),s("span",{class:"token comment"},"# 或需从 yay 安装"),o("\nyay -S optimus-manager-qt\n")])])],-1),A=s("p",null,"接着启用即可。",-1),B=s("blockquote",null,[s("p",null,"2020-12-17 更新")],-1),C=s("p",null,[o("在后续的使用中 "),s("code",null,"bbsswitch"),o(" 似乎被卸载了（不确定是我个人卸载，还是系统升级被移除）导致切换失败。")],-1),F=s("p",null,[o("在上面的页面中还有其他选择，如 "),s("code",null,"acpi_call"),o("，所以：")],-1),N=s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token comment"},"# 安装"),o("\n"),s("span",{class:"token function"},"sudo"),o(" pacman -S acpi_call-dkms\n\n"),s("span",{class:"token comment"},"# 启用"),o("\n"),s("span",{class:"token function"},"sudo"),o(" modprobe acpi_call\n")])])],-1),P=o("接着可以使用命令行工具 "),Q={href:"https://github.com/dglt1/optimus-switch-sddm",target:"_blank",rel:"noopener noreferrer"},z=o("optimus-switch-sddm"),G=o("。"),H=s("p",null,[o("在界面 QT 工具中选用 "),s("code",null,"acpi_call"),o(" 导致桌面无法启动，未排查出原因，后续修改配置文件 "),s("code",null,"/etc/optimus-manager/optimus-manager.conf"),o("，改回 "),s("code",null,"switching=bbswitch"),o(" 才使得桌面启动。")],-1),I=s("h2",{id:"屏幕时不时卡死",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#屏幕时不时卡死","aria-hidden":"true"},"#"),o(" 屏幕时不时卡死")],-1),J=s("h3",{id:"_1-问题情况-3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-问题情况-3","aria-hidden":"true"},"#"),o(" 1. 问题情况")],-1),K=s("p",null,"在看视频时出现的概率比较大，即屏幕频繁绘制时出问题了。",-1),U=s("h3",{id:"_2-解决方案-3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-解决方案-3","aria-hidden":"true"},"#"),o(" 2. 解决方案")],-1),V=s("p",null,[o("初步猜测是显卡驱动有问题。然后在软件包搜了下 "),s("code",null,"nouveau"),o("，果然存在 "),s("code",null,"xf86-video-nouveau"),o(" 开源驱动，移除后就恢复正常了。")],-1),W=s("p",null,"应该是哪次更新系统顺手给安装上去了。",-1),X=s("h2",{id:"风扇起飞",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#风扇起飞","aria-hidden":"true"},"#"),o(" 风扇起飞")],-1),Y=s("h3",{id:"_1-问题情况-4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-问题情况-4","aria-hidden":"true"},"#"),o(" 1. 问题情况")],-1),Z=s("p",null,"系统风扇起飞，一般是由于某个程序占用资源过多导致。",-1),$=s("h3",{id:"_2-解决方案-4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-解决方案-4","aria-hidden":"true"},"#"),o(" 2. 解决方案")],-1),aa=s("blockquote",null,[s("p",null,"解决后可能会导致其他问题。")],-1),na=s("p",null,"引起该问题有很多情况，之前也总是忘记抓罪犯：",-1),ea={href:"https://wiki.archlinux.org/index.php/Baloo",target:"_blank",rel:"noopener noreferrer"},sa=o("baloo"),la=o(" 建立文件索引"),ra=c('<div class="language-bash ext-sh"><pre class="language-bash"><code>balooctl status  <span class="token comment"># 查看状态</span>\nbalooctl <span class="token function">suspend</span>   <span class="token comment"># 停止</span>\nbalooctl disable  <span class="token comment"># 禁用</span>\n</code></pre></div><p>除了命令行还可以在 <code>系统</code> =》 <code>查找</code> 中找到该配置项。</p>',2),oa=s("h2",{id:"旧系统内核无法删除",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#旧系统内核无法删除","aria-hidden":"true"},"#"),o(" 旧系统内核无法删除")],-1),ca=s("h3",{id:"_1-问题情况-5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-问题情况-5","aria-hidden":"true"},"#"),o(" 1. 问题情况")],-1),ta=s("p",null,"卸载时出现以下提示：",-1),ia=s("div",{class:"language-text ext-text"},[s("pre",{class:"language-text"},[s("code",null,"checking dependencies...\n:: removing linux510-headers breaks dependency 'linux510-headers' required by linux-latest-headers\n:: removing linux510-r8168 breaks dependency 'linux510-r8168' required by linux-latest-r8168\n")])],-1),da=s("h3",{id:"_2-解决方案-5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-解决方案-5","aria-hidden":"true"},"#"),o(" 2. 解决方案")],-1),ua=o("参考 "),ha={href:"https://forum.manjaro.org/t/cannot-remove-linux57-breaks-dependency-required-by-linux-latest-something/7679",target:"_blank",rel:"noopener noreferrer"},pa=o("Cannot remove linux57 - breaks dependency .. required by linux-latest-[something]"),ma=o("，执行："),ba=s("div",{class:"language-bash ext-sh"},[s("pre",{class:"language-bash"},[s("code",null,[s("span",{class:"token function"},"sudo"),o(" pacman -Rcsnu linux510-headers\n"),s("span",{class:"token function"},"sudo"),o(" pacman -Rcsnu linux510-r8168\n")])])],-1),ga=s("p",null,"再次尝试后即可。",-1);t.render=function(o,c){const t=a("OutboundLink");return n(),e(r,null,[i,d,u,h,p,m,b,g,x,f,k,_,v,j,y,q,w,S,M,s("p",null,[T,s("a",D,[E,l(t)]),L]),O,R,A,B,C,F,N,s("p",null,[P,s("a",Q,[z,l(t)]),G]),H,I,J,K,U,V,W,X,Y,Z,$,aa,na,s("ol",null,[s("li",null,[s("p",null,[s("a",ea,[sa,l(t)]),la]),ra])]),oa,ca,ta,ia,da,s("p",null,[ua,s("a",ha,[pa,l(t)]),ma]),ba,ga],64)};export{t as default};
