<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.json"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"><meta name="theme-color" content="#ffffff"><meta name="google-site-verification" content="W68EZZeGJ1XR1d_-vrVRlw20RcZI6l0HrSahj7mc04s"><title>Docker Compose ç®¡ç†å¤šä¸ªæœåŠ¡ | é£è·ƒé«˜å±±ä¸å¤§æ´‹çš„é±¼</title><meta name="description" content="Docker Compose ç®¡ç†å¤šä¸ªæœåŠ¡">
    <link rel="modulepreload" href="/assets/app.6ced18c8.js"><link rel="modulepreload" href="/assets/docker-compose.html.05752b6e.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.5a098b48.js"><link rel="modulepreload" href="/assets/docker-compose.html.1fc89b72.js">
    <link rel="stylesheet" href="/assets/style.75f19f8a.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/hero.jpg" alt="é£è·ƒé«˜å±±ä¸å¤§æ´‹çš„é±¼"><span class="site-name can-hide">é£è·ƒé«˜å±±ä¸å¤§æ´‹çš„é±¼</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/pre-reading.html" class="nav-link" aria-label="å…ˆçœ‹"><!--[--><!--]--> å…ˆçœ‹ <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/computer/" class="nav-link" aria-label="è®¡ç®—æœº"><!--[--><!--]--> è®¡ç®—æœº <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åŸºçŸ³"><span class="title">åŸºçŸ³</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="åŸºçŸ³"><span class="title">åŸºçŸ³</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/cornerstone/math/" class="nav-link" aria-label="æ•°å­¦"><!--[--><!--]--> æ•°å­¦ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ç³»ç»Ÿ"><span class="title">ç³»ç»Ÿ</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="ç³»ç»Ÿ"><span class="title">ç³»ç»Ÿ</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/os/linux/" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/manjaro/" class="nav-link" aria-label="Manjaro"><!--[--><!--]--> Manjaro <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/ubuntu/" class="nav-link" aria-label="Ubuntu"><!--[--><!--]--> Ubuntu <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/centos/" class="nav-link" aria-label="CentOS"><!--[--><!--]--> CentOS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/kubernetes/" class="nav-link" aria-label="Kubernetes"><!--[--><!--]--> Kubernetes <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‰ç«¯"><span class="title">å‰ç«¯</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å‰ç«¯"><span class="title">å‰ç«¯</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/frontend/web/" class="nav-link" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/javascript/" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/typescript/" class="nav-link" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/css/" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/canvas/" class="nav-link" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/vue/" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/vite/" class="nav-link" aria-label="Vite"><!--[--><!--]--> Vite <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/nuxtjs/" class="nav-link" aria-label="NuxtJS"><!--[--><!--]--> NuxtJS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/webpack/" class="nav-link" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/flutter/" class="nav-link" aria-label="Flutter"><!--[--><!--]--> Flutter <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/d3js/" class="nav-link" aria-label="D3"><!--[--><!--]--> D3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/jest/" class="nav-link" aria-label="Jest"><!--[--><!--]--> Jest <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/weapp/" class="nav-link" aria-label="WeApp"><!--[--><!--]--> WeApp <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/utils/" class="nav-link" aria-label="Utils"><!--[--><!--]--> Utils <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åç«¯"><span class="title">åç«¯</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="åç«¯"><span class="title">åç«¯</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/backend/nodejs/" class="nav-link" aria-label="Nodejs"><!--[--><!--]--> Nodejs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/nestjs/" class="nav-link" aria-label="Nestjs"><!--[--><!--]--> Nestjs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/golang/" class="nav-link" aria-label="Golang"><!--[--><!--]--> Golang <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/nginx/" class="nav-link" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/traefik/" class="nav-link" aria-label="Traefik"><!--[--><!--]--> Traefik <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/mysql/" class="nav-link" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/mongodb/" class="nav-link" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/redis/" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/docker/" class="nav-link router-link-active" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/algorithms/" class="nav-link" aria-label="ç®—æ³•"><!--[--><!--]--> ç®—æ³• <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è®¾è®¡"><span class="title">è®¾è®¡</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="è®¾è®¡"><span class="title">è®¾è®¡</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/design/pixel/" class="nav-link" aria-label="åƒç´ é£"><!--[--><!--]--> åƒç´ é£ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title">å¼€å‘å·¥å…·</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title">å¼€å‘å·¥å…·</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/tools/git/" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/github/" class="nav-link" aria-label="Github"><!--[--><!--]--> Github <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/vscode/" class="nav-link" aria-label="VSCode"><!--[--><!--]--> VSCode <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/chrome/" class="nav-link" aria-label="Chrome"><!--[--><!--]--> Chrome <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/google/" class="nav-link" aria-label="Google"><!--[--><!--]--> Google <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/bookmark-scripts/" class="nav-link" aria-label="Bookmark scripts"><!--[--><!--]--> Bookmark scripts <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ›´å¤š"><span class="title">æ›´å¤š</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="æ›´å¤š"><span class="title">æ›´å¤š</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/more/navigation.html" class="nav-link" aria-label="å¯¼èˆª ğŸ‰"><!--[--><!--]--> å¯¼èˆª ğŸ‰ <!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://shanyuhai123.github.io/vuepress-plugin-auto-sidebar/zh/" rel="noopener noreferrer" target="_blank" aria-label="VuePress ä¾§è¾¹æ æ’ä»¶"><!--[--><!--]--> VuePress ä¾§è¾¹æ æ’ä»¶ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://vuepress.vuejs.org/zh/" rel="noopener noreferrer" target="_blank" aria-label="VuePress å®˜ç½‘"><!--[--><!--]--> VuePress å®˜ç½‘ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/shanyuhai123/documents" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="é¦–é¡µ"><!--[--><!--]--> é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/pre-reading.html" class="nav-link" aria-label="å…ˆçœ‹"><!--[--><!--]--> å…ˆçœ‹ <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/computer/" class="nav-link" aria-label="è®¡ç®—æœº"><!--[--><!--]--> è®¡ç®—æœº <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åŸºçŸ³"><span class="title">åŸºçŸ³</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="åŸºçŸ³"><span class="title">åŸºçŸ³</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/cornerstone/math/" class="nav-link" aria-label="æ•°å­¦"><!--[--><!--]--> æ•°å­¦ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ç³»ç»Ÿ"><span class="title">ç³»ç»Ÿ</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="ç³»ç»Ÿ"><span class="title">ç³»ç»Ÿ</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/os/linux/" class="nav-link" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/manjaro/" class="nav-link" aria-label="Manjaro"><!--[--><!--]--> Manjaro <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/ubuntu/" class="nav-link" aria-label="Ubuntu"><!--[--><!--]--> Ubuntu <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/centos/" class="nav-link" aria-label="CentOS"><!--[--><!--]--> CentOS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/os/kubernetes/" class="nav-link" aria-label="Kubernetes"><!--[--><!--]--> Kubernetes <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‰ç«¯"><span class="title">å‰ç«¯</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å‰ç«¯"><span class="title">å‰ç«¯</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/frontend/web/" class="nav-link" aria-label="Web"><!--[--><!--]--> Web <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/javascript/" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/typescript/" class="nav-link" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/css/" class="nav-link" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/canvas/" class="nav-link" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/vue/" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/vite/" class="nav-link" aria-label="Vite"><!--[--><!--]--> Vite <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/nuxtjs/" class="nav-link" aria-label="NuxtJS"><!--[--><!--]--> NuxtJS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/webpack/" class="nav-link" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/flutter/" class="nav-link" aria-label="Flutter"><!--[--><!--]--> Flutter <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/d3js/" class="nav-link" aria-label="D3"><!--[--><!--]--> D3 <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/jest/" class="nav-link" aria-label="Jest"><!--[--><!--]--> Jest <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/weapp/" class="nav-link" aria-label="WeApp"><!--[--><!--]--> WeApp <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/frontend/utils/" class="nav-link" aria-label="Utils"><!--[--><!--]--> Utils <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="åç«¯"><span class="title">åç«¯</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="åç«¯"><span class="title">åç«¯</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/backend/nodejs/" class="nav-link" aria-label="Nodejs"><!--[--><!--]--> Nodejs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/nestjs/" class="nav-link" aria-label="Nestjs"><!--[--><!--]--> Nestjs <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/golang/" class="nav-link" aria-label="Golang"><!--[--><!--]--> Golang <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/nginx/" class="nav-link" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/traefik/" class="nav-link" aria-label="Traefik"><!--[--><!--]--> Traefik <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/mysql/" class="nav-link" aria-label="MySQL"><!--[--><!--]--> MySQL <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/mongodb/" class="nav-link" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/redis/" class="nav-link" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/backend/docker/" class="nav-link router-link-active" aria-label="Docker"><!--[--><!--]--> Docker <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/algorithms/" class="nav-link" aria-label="ç®—æ³•"><!--[--><!--]--> ç®—æ³• <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è®¾è®¡"><span class="title">è®¾è®¡</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="è®¾è®¡"><span class="title">è®¾è®¡</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/design/pixel/" class="nav-link" aria-label="åƒç´ é£"><!--[--><!--]--> åƒç´ é£ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title">å¼€å‘å·¥å…·</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title">å¼€å‘å·¥å…·</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/tools/git/" class="nav-link" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/github/" class="nav-link" aria-label="Github"><!--[--><!--]--> Github <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/vscode/" class="nav-link" aria-label="VSCode"><!--[--><!--]--> VSCode <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/chrome/" class="nav-link" aria-label="Chrome"><!--[--><!--]--> Chrome <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/google/" class="nav-link" aria-label="Google"><!--[--><!--]--> Google <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tools/bookmark-scripts/" class="nav-link" aria-label="Bookmark scripts"><!--[--><!--]--> Bookmark scripts <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ›´å¤š"><span class="title">æ›´å¤š</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="æ›´å¤š"><span class="title">æ›´å¤š</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/more/navigation.html" class="nav-link" aria-label="å¯¼èˆª ğŸ‰"><!--[--><!--]--> å¯¼èˆª ğŸ‰ <!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://shanyuhai123.github.io/vuepress-plugin-auto-sidebar/zh/" rel="noopener noreferrer" target="_blank" aria-label="VuePress ä¾§è¾¹æ æ’ä»¶"><!--[--><!--]--> VuePress ä¾§è¾¹æ æ’ä»¶ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://vuepress.vuejs.org/zh/" rel="noopener noreferrer" target="_blank" aria-label="VuePress å®˜ç½‘"><!--[--><!--]--> VuePress å®˜ç½‘ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/shanyuhai123/documents" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">DOCKER</p><ul class=""><li><!--[--><a href="/backend/docker/" class="nav-link router-link-active sidebar-item" aria-label="äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨ Docker"><!--[--><!--]--> äººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨ Docker <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/backend/docker/dockerfile.html" class="nav-link sidebar-item" aria-label="Dockerfile"><!--[--><!--]--> Dockerfile <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/backend/docker/image.html" class="nav-link sidebar-item" aria-label="äº†è§£ Docker é•œåƒ"><!--[--><!--]--> äº†è§£ Docker é•œåƒ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/backend/docker/container.html" class="nav-link sidebar-item" aria-label="äº†è§£ Docker å®¹å™¨"><!--[--><!--]--> äº†è§£ Docker å®¹å™¨ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/backend/docker/volumes.html" class="nav-link sidebar-item" aria-label="äº†è§£ Docker æ•°æ®å·"><!--[--><!--]--> äº†è§£ Docker æ•°æ®å· <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Docker Compose ç®¡ç†å¤šä¸ªæœåŠ¡"><!--[--><!--]--> Docker Compose ç®¡ç†å¤šä¸ªæœåŠ¡ <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#ä¸ºä»€ä¹ˆéœ€è¦-docker-compose" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="ä¸ºä»€ä¹ˆéœ€è¦ Docker Compose"><!--[--><!--]--> ä¸ºä»€ä¹ˆéœ€è¦ Docker Compose <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_1-è¯´æ˜" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. è¯´æ˜"><!--[--><!--]--> 1. è¯´æ˜ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_2-é»˜è®¤" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. é»˜è®¤"><!--[--><!--]--> 2. é»˜è®¤ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#å®‰è£…å¸è½½" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å®‰è£…å¸è½½"><!--[--><!--]--> å®‰è£…å¸è½½ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#å‘½ä»¤è¡Œ" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="å‘½ä»¤è¡Œ"><!--[--><!--]--> å‘½ä»¤è¡Œ <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#æ ¸å¿ƒé…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="æ ¸å¿ƒé…ç½®"><!--[--><!--]--> æ ¸å¿ƒé…ç½® <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_1-version" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. version"><!--[--><!--]--> 1. version <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_2-services" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. services"><!--[--><!--]--> 2. services <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_3-networks" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3. networks"><!--[--><!--]--> 3. networks <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#services-é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="services é…ç½®"><!--[--><!--]--> services é…ç½® <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_1-image" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. image"><!--[--><!--]--> 1. image <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_2-build" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. build"><!--[--><!--]--> 2. build <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_3-command" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3. command"><!--[--><!--]--> 3. command <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_4-container-name" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4. container_name"><!--[--><!--]--> 4. container_name <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_5-depends-on" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="5. depends_on"><!--[--><!--]--> 5. depends_on <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_6-env-file-environment" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="6. env_file/environment"><!--[--><!--]--> 6. env_file/environment <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_7-extra-hosts" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="7. extra_hosts"><!--[--><!--]--> 7. extra_hosts <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_8-healthcheck" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="8. healthcheck"><!--[--><!--]--> 8. healthcheck <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_9-links" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="9. links"><!--[--><!--]--> 9. links <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_10-networks" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="10. networks"><!--[--><!--]--> 10. networks <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_11-ports" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="11. ports"><!--[--><!--]--> 11. ports <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_12-secrets" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="12. secrets"><!--[--><!--]--> 12. secrets <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/backend/docker/docker-compose.html#_13-volumes" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="13. volumes"><!--[--><!--]--> 13. volumes <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li><li><!--[--><a href="/backend/docker/etcd.html" class="nav-link sidebar-item" aria-label="ä½¿ç”¨ Docker æ­å»º ETCD"><!--[--><!--]--> ä½¿ç”¨ Docker æ­å»º ETCD <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/backend/docker/private-registry.html" class="nav-link sidebar-item" aria-label="ä½¿ç”¨ Harbor æ„å»ºç§æœ‰é•œåƒä»“åº“"><!--[--><!--]--> ä½¿ç”¨ Harbor æ„å»ºç§æœ‰é•œåƒä»“åº“ <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="ä¸ºä»€ä¹ˆéœ€è¦-docker-compose" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦-docker-compose" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆéœ€è¦ Docker Compose</h2><p>å…ˆç®€å•ç†è§£ Docker çš„ä½¿ç”¨è¿‡ç¨‹ï¼š</p><ol><li>é•œåƒæ„å»ºï¼šå³åˆ›å»ºä¸€ä¸ªé•œåƒï¼Œè¿™ä¸ªåˆ›å»ºçš„è¿‡ç¨‹å°±æ˜¯ç”¨ <code>Dockerfile</code> æ¥å®Œæˆçš„ã€‚</li><li>å®¹å™¨å¯åŠ¨ï¼šé’ˆå¯¹å•ä¸ªå®¹å™¨å¯ä»¥ä½¿ç”¨ <code>docker run</code> æ¥å¯åŠ¨ï¼Œé‚£å¤šä¸ªå‘¢ï¼Ÿäºæ˜¯å°±å‡ºç°äº† Docker Composeã€‚</li></ol><h3 id="_1-è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_1-è¯´æ˜" aria-hidden="true">#</a> 1. è¯´æ˜</h3><p>Docker Compose ä¸­å®šä¹‰çš„æ¯ä¸ªæœåŠ¡éƒ½å¿…é¡»é€šè¿‡ <code>image</code> æˆ– <code>build</code> æŒ‡ä»¤æ¥æ„å»ºï¼Œ<code>build</code> æ—¶ä¼šåº”ç”¨ <code>Dockerfile</code> ä¸­çš„é…ç½®ï¼Œæ— éœ€é‡å¤è®¾ç½®ã€‚</p><h3 id="_2-é»˜è®¤" tabindex="-1"><a class="header-anchor" href="#_2-é»˜è®¤" aria-hidden="true">#</a> 2. é»˜è®¤</h3><p>é»˜è®¤æ¨¡æ¿æ–‡ä»¶ä¸º <code>docker-compose.yml</code>ï¼Œé»˜è®¤çš„é¡¹ç›®åç§°ä¸ºæ‰€åœ¨ç›®å½•åã€‚</p><h2 id="å®‰è£…å¸è½½" tabindex="-1"><a class="header-anchor" href="#å®‰è£…å¸è½½" aria-hidden="true">#</a> å®‰è£…å¸è½½</h2><p>é€‰æ‹©äºŒè¿›åˆ¶å®‰è£…çš„å½¢å¼ï¼Œæ›´å¤šç‰ˆæœ¬å¯è§ <a href="https://github.com/docker/compose/releases" target="_blank" rel="noopener noreferrer">github release<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>ã€‚</p><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token comment"># ä¸‹è½½</span>
<span class="token function">sudo</span> <span class="token function">curl</span> -L <span class="token string">&quot;https://github.com/docker/compose/releases/download/1.27.4/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>&quot;</span> -o /usr/local/bin/docker-compose

<span class="token comment"># å…è®¸è¿è¡Œ</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose

<span class="token comment"># bash å‘½ä»¤è¡¥å…¨</span>
<span class="token function">curl</span> -L https://raw.githubusercontent.com/docker/compose/1.25.5/contrib/completion/bash/docker-compose <span class="token operator">&gt;</span> /etc/bash_completion.d/docker-compose

<span class="token comment"># ç”±äºæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‚£ä¹ˆå¸è½½å°±æ˜¯åˆ é™¤è¯¥æ–‡ä»¶</span>
<span class="token function">sudo</span> <span class="token function">rm</span> /usr/local/bin/docker-compose
</code></pre></div><h2 id="å‘½ä»¤è¡Œ" tabindex="-1"><a class="header-anchor" href="#å‘½ä»¤è¡Œ" aria-hidden="true">#</a> å‘½ä»¤è¡Œ</h2><p>åœ¨é…ç½®å®Œæˆåå¯ä»¥æ‰§è¡Œ <code>docker-compose config</code> æ¥æ ¡éªŒå¹¶æŸ¥çœ‹å®é™…è¿è¡Œçš„é…ç½®ã€‚</p><h2 id="æ ¸å¿ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒé…ç½®" aria-hidden="true">#</a> æ ¸å¿ƒé…ç½®</h2><p>ä¸€ä»½æ ‡å‡†é…ç½®æ–‡ä»¶åº”è¯¥åŒ…å« <code>version</code>ã€<code>services</code>ã€<code>networks</code> ä¸‰å¤§éƒ¨åˆ†ï¼Œå…¶ä¸­æœ€å…³é”®çš„å°±æ˜¯ <code>services</code> å’Œ <code>networks</code> éƒ¨åˆ†ã€‚</p><h3 id="_1-version" tabindex="-1"><a class="header-anchor" href="#_1-version" aria-hidden="true">#</a> 1. version</h3><p><code>version</code> ä¸ Docker Engine æ˜¯å¼ºå…³è”çš„ï¼Œ<a href="https://docs.docker.com/compose/compose-file/compose-versioning/" target="_blank" rel="noopener noreferrer">Reference<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> ä¸­æœ‰è¯¦ç»†å¯¹ç…§å…³ç³»ã€‚</p><h3 id="_2-services" tabindex="-1"><a class="header-anchor" href="#_2-services" aria-hidden="true">#</a> 2. services</h3><p>services æ˜¯è¦å®šä¹‰çš„æœåŠ¡ï¼Œè‡³äºæœåŠ¡åå¯ä»¥è‡ªå–ï¼Œæˆ‘ä»¬å¤§éƒ¨åˆ†æ—¶å€™éƒ½æ˜¯åœ¨ä¸º service è¿›è¡Œç¼–å†™ã€‚</p><h3 id="_3-networks" tabindex="-1"><a class="header-anchor" href="#_3-networks" aria-hidden="true">#</a> 3. networks</h3><p>é…ç½®å®¹å™¨è¿æ¥çš„ç½‘ç»œï¼Œå¦‚æœæœªæ˜¾ç¤ºå£°æ˜åˆ™ä¼šè¢«åŠ å…¥æ‰€åœ¨ç›®å½•åŠ <code>_default</code> çš„ç½‘ç»œä¸­ï¼Œä¾‹å¦‚å½“å‰ç›®å½•ä¸º <code>app</code>ï¼Œé‚£ä¹ˆå°±ä¼šåŠ å…¥ <code>app_default</code> çš„é»˜è®¤ç½‘ç»œã€‚ä½ ä¼šå‘ç°è¿™å…¶å®ä¸ service æ˜¯ä¸€è‡´çš„ã€‚</p><h2 id="services-é…ç½®" tabindex="-1"><a class="header-anchor" href="#services-é…ç½®" aria-hidden="true">#</a> services é…ç½®</h2><h3 id="_1-image" tabindex="-1"><a class="header-anchor" href="#_1-image" aria-hidden="true">#</a> 1. image</h3><p>é•œåƒåç§°æˆ– IDï¼Œæœ¬åœ°ä¸åœ¨åˆ™ä» hub æ‹‰å–ã€‚</p><h3 id="_2-build" tabindex="-1"><a class="header-anchor" href="#_2-build" aria-hidden="true">#</a> 2. build</h3><p>æœåŠ¡é™¤äº†å¯ä»¥æŒ‡å®šé•œåƒï¼Œè¿˜å¯ä»¥åŸºäºä¸€ä»½ Dockerfileï¼Œå…¶å¯ä»¥ä¸ºç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„ï¼Œå³å¯¹åº”çš„ <code>context</code> åŠ <code>dockerfile</code>ã€‚</p><p>å­˜åœ¨æ„å»ºæµç¨‹é‚£ä¹ˆè‡ªç„¶å¯ä»¥åœ¨æ„å»ºè¿‡ç¨‹ä¸­æŒ‡å®šç¯å¢ƒå˜é‡ã€‚æ³¨æ„å¸ƒå°”å€¼éœ€è¦ä½¿ç”¨å¼•å·åŒ…è£¹ï¼Œå¦åˆ™ä¼šè¢«è¯†åˆ«ä¸ºå­—ç¬¦ä¸²ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
	<span class="token key atrule">app</span><span class="token punctuation">:</span>
		<span class="token key atrule">build</span><span class="token punctuation">:</span>
			<span class="token key atrule">context</span><span class="token punctuation">:</span> ./app
			<span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile<span class="token punctuation">-</span>app
			<span class="token key atrule">args</span><span class="token punctuation">:</span>
				<span class="token key atrule">arg1</span><span class="token punctuation">:</span> <span class="token string">&#39;true&#39;</span>
</code></pre></div><h3 id="_3-command" tabindex="-1"><a class="header-anchor" href="#_3-command" aria-hidden="true">#</a> 3. command</h3><p>ä½¿ç”¨ command å¯ä»¥è¦†ç›–å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚æ³¨æ„æ˜¯è¦†ç›–é»˜è®¤å‘½ä»¤ã€‚</p><h3 id="_4-container-name" tabindex="-1"><a class="header-anchor" href="#_4-container-name" aria-hidden="true">#</a> 4. container_name</h3><p>compose çš„å®¹å™¨åç§°æ ¼å¼æ˜¯ï¼š&lt;é¡¹ç›®åç§°&gt;&lt;æœåŠ¡åç§°&gt;&lt;åºå·&gt;ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚</p><h3 id="_5-depends-on" tabindex="-1"><a class="header-anchor" href="#_5-depends-on" aria-hidden="true">#</a> 5. depends_on</h3><p>åœ¨ç»„åˆä¸€ç³»åˆ—æœåŠ¡æ—¶ï¼Œå¾ˆå¤šæ—¶å€™æ˜¯æœ‰è°ƒç”¨é¡ºåºçš„ï¼Œä¾‹å¦‚å¾€å¾€æœ‰éœ€è¦å…ˆå¯ç”¨æ•°æ®åº“æœåŠ¡ï¼Œè¿™æ—¶å€™å°±å¾ˆæœ‰ç”¨äº†ã€‚</p><p>ç”šè‡³åœ¨ä½ å•ç‹¬ <code>compose up</code> ä¸­æŸä¸ªæœåŠ¡æ—¶ä¹Ÿä¼šç”Ÿæ•ˆã€‚</p><h3 id="_6-env-file-environment" tabindex="-1"><a class="header-anchor" href="#_6-env-file-environment" aria-hidden="true">#</a> 6. env_file/environment</h3><p>env_file å¦‚æœæœ‰ç¯å¢ƒå˜é‡ä¸ environment æŒ‡ä»¤å†²çªï¼Œåˆ™ä»¥ environment ä¸ºå‡†ã€‚éœ€æ³¨æ„è¿™é‡Œæ‰€è¯´çš„ç¯å¢ƒå˜é‡æ˜¯å¯¹ compose è€Œè¨€çš„ï¼Œè¿™äº›å˜é‡å¹¶ä¸ä¼šè¿›å…¥æ„å»ºè¿‡ç¨‹ä¸­ã€‚</p><p>å¦‚æœåªç»™å®šåç§°åˆ™ä¼šè‡ªåŠ¨è·å–ä¸»æœºä¸Šå¯¹åº”å˜é‡çš„å€¼ï¼Œå¯ç”¨æ¥é˜²æ­¢æ³„æ¼æ•°æ®ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">environment</span><span class="token punctuation">:</span>
  <span class="token key atrule">NODE_ENV</span><span class="token punctuation">:</span> development
  <span class="token key atrule">APP_URL</span><span class="token punctuation">:</span>

<span class="token key atrule">environment</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> NODE_ENV=development
  <span class="token punctuation">-</span> APP_URL
</code></pre></div><h3 id="_7-extra-hosts" tabindex="-1"><a class="header-anchor" href="#_7-extra-hosts" aria-hidden="true">#</a> 7. extra_hosts</h3><p>å¢åŠ  host æ˜ å°„è§„åˆ™ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">extra_hosts</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;somehost:162.242.195.82&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;otherhost:50.31.209.229&quot;</span>
</code></pre></div><p>å¯¹åº”çš„ <code>/etc/hosts</code> åˆ™ä¼šè¿½åŠ ï¼š</p><div class="language-text ext-text"><pre class="language-text"><code>162.242.195.82  somehost
50.31.209.229   otherhost
</code></pre></div><h3 id="_8-healthcheck" tabindex="-1"><a class="header-anchor" href="#_8-healthcheck" aria-hidden="true">#</a> 8. healthcheck</h3><p>å¥åº·æ£€æŸ¥ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
  <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;CMD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;curl&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost&quot;</span><span class="token punctuation">]</span>
  <span class="token key atrule">interval</span><span class="token punctuation">:</span> 1m30s
  <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
  <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>
  <span class="token key atrule">start_period</span><span class="token punctuation">:</span> 40s
</code></pre></div><h3 id="_9-links" tabindex="-1"><a class="header-anchor" href="#_9-links" aria-hidden="true">#</a> 9. links</h3><p>å®˜ç½‘å¤§å¤§çš„æ ‡å‡ºäº†ä¸æ¨èä½¿ç”¨ï¼Œå°†æ¥ä¼šåºŸå¼ƒã€‚</p><h3 id="_10-networks" tabindex="-1"><a class="header-anchor" href="#_10-networks" aria-hidden="true">#</a> 10. networks</h3><p>é…ç½®å®¹å™¨è¿æ¥çš„ç½‘ç»œã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">&quot;nginx:alpine&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> new

  <span class="token key atrule">worker</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> <span class="token string">&quot;my-worker-image:latest&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> legacy

  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">new</span><span class="token punctuation">:</span>
        <span class="token key atrule">aliases</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> database
      <span class="token key atrule">legacy</span><span class="token punctuation">:</span>
        <span class="token key atrule">aliases</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> mysql

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">new</span><span class="token punctuation">:</span>
  <span class="token key atrule">legacy</span><span class="token punctuation">:</span>
</code></pre></div><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">app</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>alpine
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token key atrule">app_net</span><span class="token punctuation">:</span>
        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.16.238.10
        <span class="token key atrule">ipv6_address</span><span class="token punctuation">:</span> 2001<span class="token punctuation">:</span>3984<span class="token punctuation">:</span>3989<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">10</span>

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">app_net</span><span class="token punctuation">:</span>
    <span class="token key atrule">ipam</span><span class="token punctuation">:</span>
      <span class="token key atrule">driver</span><span class="token punctuation">:</span> default
      <span class="token key atrule">config</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">subnet</span><span class="token punctuation">:</span> <span class="token string">&quot;172.16.238.0/24&quot;</span>
        <span class="token punctuation">-</span> <span class="token key atrule">subnet</span><span class="token punctuation">:</span> <span class="token string">&quot;2001:3984:3989::/64&quot;</span>
</code></pre></div><h3 id="_11-ports" tabindex="-1"><a class="header-anchor" href="#_11-ports" aria-hidden="true">#</a> 11. ports</h3><p>æš´éœ²ç«¯å£ä¿¡æ¯ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">ports</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;3000&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;3000-3005&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;8000:8000&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;9090-9091:8080-8081&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;49100:22&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;127.0.0.1:8001:8001&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;127.0.0.1:5000-5010:5000-5010&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;6060:6060/udp&quot;</span>
  <span class="token punctuation">-</span> <span class="token string">&quot;12400-12500:1240&quot;</span>
</code></pre></div><h3 id="_12-secrets" tabindex="-1"><a class="header-anchor" href="#_12-secrets" aria-hidden="true">#</a> 12. secrets</h3><p>å­˜å‚¨æ•æ„Ÿä¿¡æ¯ã€‚</p><p>ä¸æ˜¯å¯ä»¥åˆ©ç”¨ <code>env</code> ä¹ˆï¼Œä¸ºä»€ä¹ˆè¿˜éœ€è¦è¿™ä¸ªå‘¢ï¼Œæœ‰å¾…æ¢ç©¶ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>latest
    <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
      <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token key atrule">secrets</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> my_secret
      <span class="token punctuation">-</span> my_other_secret
<span class="token key atrule">secrets</span><span class="token punctuation">:</span>
  <span class="token key atrule">my_secret</span><span class="token punctuation">:</span>
    <span class="token key atrule">file</span><span class="token punctuation">:</span> ./my_secret.txt
  <span class="token key atrule">my_other_secret</span><span class="token punctuation">:</span>
    <span class="token key atrule">external</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><h3 id="_13-volumes" tabindex="-1"><a class="header-anchor" href="#_13-volumes" aria-hidden="true">#</a> 13. volumes</h3><p>æ•°æ®å·æŒ‚è½½è·¯å¾„ï¼Œå¦‚æœæ˜¯åç§°åˆ™éœ€è¦é…ç½®ã€‚</p><div class="language-yaml ext-yml"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.9&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>alpine
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> volume
        <span class="token key atrule">source</span><span class="token punctuation">:</span> mydata
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /data
        <span class="token key atrule">volume</span><span class="token punctuation">:</span>
          <span class="token key atrule">nocopy</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> bind
        <span class="token key atrule">source</span><span class="token punctuation">:</span> ./static
        <span class="token key atrule">target</span><span class="token punctuation">:</span> /opt/app/static

  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres<span class="token punctuation">:</span>latest
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;/var/run/postgres/postgres.sock:/var/run/postgres/postgres.sock&quot;</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;dbdata:/var/lib/postgresql/data&quot;</span>

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">mydata</span><span class="token punctuation">:</span>
  <span class="token key atrule">dbdata</span><span class="token punctuation">:</span>
</code></pre></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/shanyuhai123/documents/edit/master/docs/backend/docker/docker-compose.md" rel="noopener noreferrer" target="_blank" aria-label="ç¼–è¾‘æ–‡æ¡£ï¼"><!--[--><!--]--> ç¼–è¾‘æ–‡æ¡£ï¼ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><span class="meta-item-info">2021/7/10 ä¸‹åˆ11:25:13</span></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 864299347@qq.com">shanyuhai123</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"> â† <a href="/backend/docker/volumes.html" class="nav-link" aria-label="äº†è§£ Docker æ•°æ®å·"><!--[--><!--]--> äº†è§£ Docker æ•°æ®å· <!--[--><!--]--></a></span><span class="next"><a href="/backend/docker/etcd.html" class="nav-link" aria-label="ä½¿ç”¨ Docker æ­å»º ETCD"><!--[--><!--]--> ä½¿ç”¨ Docker æ­å»º ETCD <!--[--><!--]--></a> â†’ </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.6ced18c8.js" defer></script>
  </body>
</html>
